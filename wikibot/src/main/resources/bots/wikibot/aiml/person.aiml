<?xml version="1.0" encoding="UTF-8"?>
<aiml version="2.0">

    <!-- TODO: * context -->
    <!-- Second response from user when there is no subject -->
    <category>
        <pattern>*</pattern>
        <that>WHO ARE WE TALKING ABOUT</that>
        <template>
            <condition name="property">
                <li value="dbo:birthDate">
                    <srai><star/> BIRTHDATE</srai>
                </li>
                <li value="dbo:birthPlace">
                    <srai><star/> BIRTHPLACE</srai>
                </li>
                <li>
                    I've gotten a bit confused, there. Let's start again.
                    <srai>BOT_CLEAR_ALL</srai>
                </li>
            </condition>

        </template>
    </category>

    <category>
        <pattern>GET_CONTEXT</pattern>
        <template>
            <think>
                <set name="function">wait</set>
            </think>
            Who are we talking about?
        </template>
    </category>

    <!-- rdfs:comment -->
    <category>
        <pattern>WHO IS *</pattern>
        <template>
            <think>
                <set name="function">query</set>
                <set name="topic">Person</set>
                <set name="property">rdfs:comment</set>
            </think>
            <srai>BOT_QUERY_CONTEXT <star/></srai>
        </template>
    </category>
    <category>
        <pattern>TELL ME ABOUT *</pattern>
        <template>
            <srai>WHO IS <star/></srai>
        </template>
    </category>
    <category>
        <pattern>LETS TALK ABOUT *</pattern>
        <template>
            <srai>WHO IS <star/></srai>
        </template>
    </category>

    <!-- dbo:birthDate -->
    <!-- TODO: Pronoun subsitution/condition  -->
    <category>
        <pattern>* BIRTHDATE</pattern>
        <template>
            <think>
                <set name="function">query</set>
                <set name="topic">Person</set>
                <set name="property">dbo:birthDate</set>
            </think>
            <srai>BOT_QUERY_CONTEXT <star/></srai>
        </template>
    </category>
    <!-- Synonyms -->
    <category>
        <pattern>* BIRTHDAY</pattern>
        <template>
            <srai><star/> BIRTHDATE</srai>
        </template>
    </category>
    <category>
        <pattern>WHEN WAS * BORN</pattern>
        <template>
            <srai><star/> BIRTHDATE</srai>
        </template>
    </category>
    <category>
        <pattern>WHEN WERE * BORN</pattern>
        <template>
            <srai><star/> BIRTHDATE</srai>
        </template>
    </category>
    <category>
        <pattern>WHAT IS * BIRTHDATE</pattern>
        <template>
            <srai><star/> BIRTHDATE</srai>
        </template>
    </category>
    <category>
        <pattern>WHAT YEAR WAS * BORN</pattern>
        <template>
            <srai><star/> BIRTHDATE</srai>
        </template>
    </category>

    <!-- dbo:birthPlace -->
    <category>
        <pattern>* BIRTHPLACE</pattern>
        <template>
            <think>
                <set name="function">query</set>
                <set name="topic">Person</set>
                <set name="property">dbo:birthPlace</set>
            </think>
            <srai>BOT_QUERY_CONTEXT <star/></srai>
        </template>
    </category>

    <category>
        <pattern>WHERE WAS * BORN</pattern>
        <template>
            <srai><star/> BIRTHPLACE</srai>
        </template>
    </category>
    <category>
        <pattern>WHERE WERE * BORN</pattern>
        <template>
            <srai><star/> BIRTHPLACE</srai>
        </template>
    </category>
    <category>
        <pattern>WHERE * BORN</pattern>
        <template>
            <srai><star/> BIRTHPLACE</srai>
        </template>
    </category>

    <!-- dbo:knownFor -->

    <!-- dbo:deathDate -->


    <category>
        <pattern>PEOPLE BORN IN *</pattern>
        <template>
            <think>
                <set name="function">list</set>
                <set name="topic">Person</set>
                <set name="property">dbo:birthDate</set>
                <set name="value"><star/></set>
            </think>
        </template>
    </category>

    <category>
        <pattern>BOT_QUERY_CONTEXT *</pattern>
        <template>
            <think>
                <set name="subject"><map name="pronouns"><star/></map></set>
            </think>
            <condition name="subject">
                <li value="they">
                    <condition name="value">
                        <li value="unknown">
                            <srai>GET_CONTEXT</srai>
                        </li>
                        <li>
                            RUN_QUERY on <get name="topic"/>, <get name="property"/> subject= <get name="value"/>
                        </li>
                    </condition>
                </li>
                <li>
                    <think>
                        <set name="value"><star/></set>
                    </think>
                    RUN_QUERY on <get name="topic"/>, <get name="property"/> subject= <get name="value"/>
                </li>
            </condition>
        </template>
    </category>

</aiml>
